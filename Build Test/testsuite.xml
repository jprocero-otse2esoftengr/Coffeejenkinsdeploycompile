<?xml version="1.0" encoding="UTF-8"?>
<testcases name="Build Test">
   <property name="source.folder" value="${project.folder}/regressiontest/source"/>
   <property name="reference.folder" value="${project.folder}/regressiontest/reference"/>
   <property name="output.folder" value="${project.folder}/regressiontest/.$output"/>
   <options type="TestcaseCompare">
      <ignore element="startTime"/>
      <ignore element="stopTime"/>
      <ignore attribute="trace:Size"/>
   </options>
   <options type="TabfileMergeCompare">
      <ignore element="BuildTime"/>
   </options>
   
   <!-- Test basic build functionality -->
   <testcase name="BuildCoffeeService" classname="BuildTest">
      <description>Test that the coffee service builds successfully</description>
      <input>
         <file>${source.folder}/build_test_input.xml</file>
      </input>
      <expected>
         <file>${reference.folder}/build_test_expected.xml</file>
      </expected>
   </testcase>
   
   <!-- Test repository file generation -->
   <testcase name="RepositoryFileGenerated" classname="BuildTest">
      <description>Test that the .rep file is generated after build</description>
      <input>
         <file>${source.folder}/repo_test_input.xml</file>
      </input>
      <expected>
         <file>${reference.folder}/repo_test_expected.xml</file>
      </expected>
   </testcase>
</testcases>
